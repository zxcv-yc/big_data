<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="link/css/main.css">
    <script src="./link/js/jquery.js"></script>
    <script src="link/js/echarts.js"></script>
    <script src="link/js/region.js"></script>
    <script src="link/js/layer-v3.1.1/layer/layer.js"></script>
    <script src="./link/js/shandong2.js"></script>
    <!-- <script src="./link/js/jsMap.js"></script>
    <script src="link/js/china.js"></script>
    <script src="link/js/shandong_geo.js"></script>
    <script src="link/js/jquery.reveal.js"></script>
    <script src="link/js/jquery-1.8.2.min.js"></script>
    <script src="link/js/echarts.min.js"></script>
    <script src="http://www.jq22.com/js/jq.js"></script> -->
    <title>山东省疾控大数据监测控制平台</title>
    <style>
        .city_item {
            background: url(images/city_bg.png) no-repeat;
            background-position: center;
            background-size: 100%;
        }

        /* #content {
            display: none
        } */
        #fff_block {
            width: 100%;
            /* height: 2000px; */
            position: absolute;
            top: 0;
            left: 0;
            background-color: #fff;
            z-index: 20000;
        }
    </style>
</head>
<div id="fff_block"></div>

<body>

    <div id="content">

        <div class="bg_img" style=" background: url(images/bg1.png);">
            <!-- <img src="images/bg1.png"> -->
        </div>
        <div class="header">
            <img src="images/head.png" alt="" srcset="">
            <div class="time"></div>
        </div>
        <div class="content">
            <div class="left_30">
                <div class="item_bg" id="shandong">
                    <!-- <a href="city.html?city=潍坊市">
                        <div class="click_box"></div>
                    </a> -->
                    <div class="item_title">
                        <div class="title_text">山东省</div>
                        <div class="title_img">
                            <img src="images/title_img.png" alt="" srcset="">
                        </div>
                    </div>
                    <div id="main" style="width: 100%;height:400px; position: relative;"></div>
                    <!-- <img src="images/map_sd.png" class="map_sd"> -->
                    <div class="top_left">
                        <img src="images/top-left.png" alt="" srcset="">
                    </div>
                    <div class="top_right">
                        <img src="images/top-right.png" alt="" srcset="">
                    </div>
                    <div class="bottom-left">
                        <img src="images/bottom-left.png" alt="" srcset="">
                    </div>
                    <div class="bottom-right">
                        <img src="images/bottom-right.png" alt="" srcset="">
                    </div>
                </div>
                <div class="item_bg" style="margin-top:18px">
                    <div class="item_title">
                        <div class="title_text">各地市接种情况</div>
                        <div class="title_img">
                            <img src="images/title_img.png" alt="" srcset="">
                        </div>
                    </div>
                    <!-- <img src="images/map_sd.png" class="map_sd" > -->
                    <div id="jiezhzong" style="width:100%;height:300px"></div>
                    <div class="top_left">
                        <img src="images/top-left.png" alt="" srcset="">
                    </div>
                    <div class="top_right">
                        <img src="images/top-right.png" alt="" srcset="">
                    </div>
                    <div class="bottom-left">
                        <img src="images/bottom-left.png" alt="" srcset="">
                    </div>
                    <div class="bottom-right">
                        <img src="images/bottom-right.png" alt="" srcset="">
                    </div>
                </div>
            </div>

            <div class="right_60">
                <div id="city_box" class="city_box"></div>

                <script>
                    //<!-- add by fjw in 19.10.31：市区按钮修改为js动态生成 -->
                    var city_list = [];

                    function getCityByRegion() {
                        var pid = 37; // pId长度为2的是地级市
                        regionTree.forEach((value, index) => {
                            //执行代码
                            if (value['pId'] <= 37 && value['pId'] != 0) {
                                city_list.push(value);
                            }
                        })
                    }

                    function createCityButton() {
                        var html = '';
                        var color = [
                            'color_purple', 'color_green', 'color_yellow',
                            'color_blue', 'color_pink',
                        ];
                        city_list.forEach((value, index) => {
                            html += '<div class="city_item margin_top_0">';
                            html += '<div class="city_text">';
                            html += '<span class="font_size_40 ' + color[index % 5] + '">●</span>';
                            html += '<span class="city_t" region_id="' + value['id'] + '">' + value['name'] +
                                '</span>';
                            html += '</div>';
                            html += '</div>';

                        });
                        $('#city_box').html(html);
                    }
                    getCityByRegion();
                    createCityButton();
                </script>
                <div class="right_60_leftbox">
                    <div class="item_bg" style="height:372px; overflow: hidden;" id="">
                        <div class="item_title">
                            <div class="title_text">适龄儿童儿保检查完成率</div>
                            <div class="title_img">
                                <img src="images/title_img.png" alt="" srcset="">
                            </div>
                        </div>
                        <div class="unit">(人)</div>
                        <div class="next_img">
                            <img src="images/next.png" alt="">
                        </div>
                        <div class="ona_img isdisplay">
                            <img src="images/ona.png" alt="">
                        </div>
                        <div id="ym_churuku_1" style="height:300px;width:90%;"></div>
                        <div id="ym_churuku_2" style="height:300px;width:90%;"></div>
                        <!-- <img src="images/map_sd.png" class="map_sd"> -->
                        <div class="top_left">
                            <img src="images/top-left.png" alt="" srcset="">
                        </div>
                        <div class="top_right">
                            <img src="images/top-right.png" alt="" srcset="">
                        </div>
                        <div class="bottom-left">
                            <img src="images/bottom-left.png" alt="" srcset="">
                        </div>
                        <div class="bottom-right">
                            <img src="images/bottom-right.png" alt="" srcset="">
                        </div>
                    </div>
                    <div class="item_bg" style="height:364px; margin-top: 18px;">
                        <div class="item_title">
                            <div class="title_text">各地市疫苗储存情况</div>
                            <div class="title_img">
                                <img src="images/title_img.png" alt="" srcset="">
                            </div>
                        </div>
                        <!-- <img src="images/map_sd.png" class="map_sd"> -->
                        <div id="chucun" style="width:100%;height:300px"></div>
                        <div class="top_left">
                            <img src="images/top-left.png" alt="" srcset="">
                        </div>
                        <div class="top_right">
                            <img src="images/top-right.png" alt="" srcset="">
                        </div>
                        <div class="bottom-left">
                            <img src="images/bottom-left.png" alt="" srcset="">
                        </div>
                        <div class="bottom-right">
                            <img src="images/bottom-right.png" alt="" srcset="">
                        </div>
                    </div>
                </div>
                <div class="right_60_rightbox">
                    <div class="item_bg" style="height:372px; " id="ym_churuku">
                        <div class="item_title">
                            <div class="title_text">问题疫苗警告</div>
                            <div class="title_img">
                                <img src="images/title_img.png" alt="" srcset="">
                            </div>
                        </div>
                        <div class="table_box">
                            <div class="table_top">
                                <div class="table_top_item" style="margin-left:10%">地区</div>
                                <div class="table_top_item">疫苗种类</div>
                                <div class="table_top_item">操作</div>
                            </div>
                            <div class="table_content">
                                <div class="table_content_row">
                                    <div class="red_block_box">
                                        <div class="red_block"></div>
                                    </div>
                                    <div class="table_content_item">烟台市芝罘区</div>
                                    <div class="table_content_item">乙肝</div>
                                    <div class="table_content_item details vac_warning"><i>查看详情</i></div>
                                </div>
                                <div class="table_content_row">
                                    <div class="red_block_box">
                                        <div class="red_block"></div>
                                    </div>
                                    <div class="table_content_item">济南市历下区</div>
                                    <div class="table_content_item">卡介苗</div>
                                    <div class="table_content_item details vac_warning"><i>查看详情</i></div>
                                </div>
                                <div class="table_content_row">
                                    <div class="red_block_box">
                                        <div class="red_block"></div>
                                    </div>
                                    <div class="table_content_item">日照市东港区</div>
                                    <div class="table_content_item">脊灰灭活</div>
                                    <div class="table_content_item details vac_warning"><i>查看详情</i></div>
                                </div>
                            </div>
                        </div>
                        <div class="top_left">
                            <img src="images/top-left.png" alt="" srcset="">
                        </div>
                        <div class="top_right">
                            <img src="images/top-right.png" alt="" srcset="">
                        </div>
                        <div class="bottom-left">
                            <img src="images/bottom-left.png" alt="" srcset="">
                        </div>
                        <div class="bottom-right">
                            <img src="images/bottom-right.png" alt="" srcset="">
                        </div>
                    </div>
                    <div class="item_bg" style="height:364px; margin-top: 18px;">
                        <div class="item_title">
                            <div class="title_text">冰箱温度警告</div>
                            <div class="title_img">
                                <img src="images/title_img.png" alt="" srcset="">
                            </div>
                        </div>
                        <!-- <img src="images/map_sd.png" class="map_sd"> -->
                        <div class="table_box">
                            <div class="table_top">
                                <div class="table_top_item" style="margin-left:10%">地区</div>
                                <div class="table_top_item">温度</div>
                                <div class="table_top_item">操作</div>
                            </div>
                            <div class="table_content">
                                <div class="table_content_row">
                                    <div class="red_block_box">
                                        <div class="red_block"></div>
                                    </div>
                                    <div class="table_content_item">潍坊奎文区</div>
                                    <div class="table_content_item">10.3℃</div>
                                    <div class="table_content_item details temp_warning"><i>查看详情</i></div>
                                </div>
                                <div class="table_content_row">
                                    <div class="red_block_box">
                                        <div class="red_block"></div>
                                    </div>
                                    <div class="table_content_item">济南天桥区</div>
                                    <div class="table_content_item">15.3℃</div>
                                    <div class="table_content_item details temp_warning"><i>查看详情</i></div>
                                </div>
                                <div class="table_content_row">
                                    <div class="red_block_box">
                                        <div class="red_block"></div>
                                    </div>
                                    <div class="table_content_item">泰安泰山区</div>
                                    <div class="table_content_item">11.5℃</div>
                                    <div class="table_content_item details temp_warning"><i>查看详情</i></div>
                                </div>
                                <div class="table_content_row">
                                    <div class="red_block_box">
                                        <div class="red_block"></div>
                                    </div>
                                    <div class="table_content_item">烟台招远市</div>
                                    <div class="table_content_item">12.7℃</div>
                                    <div class="table_content_item details temp_warning"><i>查看详情</i></div>
                                </div>
                            </div>
                        </div>
                        <div class="top_left">
                            <img src="images/top-left.png" alt="" srcset="">
                        </div>
                        <div class="top_right">
                            <img src="images/top-right.png" alt="" srcset="">
                        </div>
                        <div class="bottom-left">
                            <img src="images/bottom-left.png" alt="" srcset="">
                        </div>
                        <div class="bottom-right">
                            <img src="images/bottom-right.png" alt="" srcset="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        get_time() //页面打开赋值时间
        setInterval("get_time()", 1000) //每秒刷新时间
        function getFormatDate() {
            var nowDate = new Date();
            var year = nowDate.getFullYear();
            var month = nowDate.getMonth() + 1 < 10 ? "0" + (nowDate.getMonth() + 1) : nowDate.getMonth() + 1;
            var date = nowDate.getDate() < 10 ? "0" + nowDate.getDate() : nowDate.getDate();
            var hour = nowDate.getHours() < 10 ? "0" + nowDate.getHours() : nowDate.getHours();
            var minute = nowDate.getMinutes() < 10 ? "0" + nowDate.getMinutes() : nowDate.getMinutes();
            var second = nowDate.getSeconds() < 10 ? "0" + nowDate.getSeconds() : nowDate.getSeconds();
            return year + "-" + month + "-" + date + " " + hour + ":" + minute + ":" + second;
        }

        function get_time() {
            var now_time = getFormatDate()
            $(".time").text(now_time)
        }
        var msg = ['济南', '烟台', '潍坊', '青岛', '淄博', '枣庄', '泰安', '东营', '临沂', '济宁', '日照', '威海', '菏泽', '滨州', '德州', '聊城', ]
        msg1 = msg.reverse()
        console.log(msg1)

        var myChart = echarts.init(document.getElementById('main'));
        option = {
            tooltip: {
                trigger: 'none'
            },
            legend: {
                orient: 'vertical',
                x: 'left',
                data: []
            },
            // toolbox: {
            //     show: true,
            //     orient: 'vertical',
            //     x: 'right',
            //     y: 'center',
            //     feature: {
            //         saveAsImage: {
            //             show: true
            //         }
            //     }
            // },
            series: [{
                name: 'cd',
                type: 'map',
                mapType: 'CD',
                roam: false,
                label: {
                    normal: {
                        show: true,
                        textStyle: {

                            color: '#fff'
                        }
                    },
                    emphasis: {
                        // show: true,
                    }
                },

                itemStyle: {
                    normal: {
                        borderColor: 'rgba(147, 235, 248, 1)',
                        borderWidth: 1,
                        areaColor: {
                            type: 'radial',
                            x: 0.5,
                            y: 0.5,
                            r: 0.8,
                            colorStops: [{
                                offset: 0,
                                color: 'rgba(147, 235, 248, 0)' // 0% 处的颜色
                            }, {
                                offset: 1,
                                color: 'rgba(147, 235, 248, .30)' // 100% 处的颜色
                            }],
                            globalCoord: false // 缺省为 false
                        },
                        shadowColor: 'rgba(128, 217, 248, 1)',
                        // shadowColor: 'rgba(255, 255, 255, 1)',
                        shadowOffsetX: -2,
                        shadowOffsetY: 2,
                        shadowBlur: 10
                    },
                    emphasis: {
                        areaColor: '#389BB7',
                        borderWidth: 0
                    }
                },
                showLegendSymbol: true,
                data: [],
            }]
        };

        var cityArr = [{
            "id": 3701,
            "pId": 37,
            "name": "济南市"
        }, {
            "id": 3702,
            "pId": 37,
            "name": "青岛市"
        }, {
            "id": 3703,
            "pId": 37,
            "name": "淄博市"
        }, {
            "id": 3704,
            "pId": 37,
            "name": "枣庄市"
        }, {
            "id": 3705,
            "pId": 37,
            "name": "东营市"
        }, {
            "id": 3706,
            "pId": 37,
            "name": "烟台市"
        }, {
            "id": 3707,
            "pId": 37,
            "name": "潍坊市"
        }, {
            "id": 3708,
            "pId": 37,
            "name": "济宁市"
        }, {
            "id": 3709,
            "pId": 37,
            "name": "泰安市"
        }, {
            "id": 3710,
            "pId": 37,
            "name": "威海市"
        }, {
            "id": 3711,
            "pId": 37,
            "name": "日照市"
        }, {
            "id": 3713,
            "pId": 37,
            "name": "临沂市"
        }, {
            "id": 3714,
            "pId": 37,
            "name": "德州市"
        }, {
            "id": 3715,
            "pId": 37,
            "name": "聊城市"
        }, {
            "id": 3716,
            "pId": 37,
            "name": "滨州市"
        }, {
            "id": 3717,
            "pId": 37,
            "name": "菏泽市"
        }]
        echarts.registerMap('CD', chinaJson);
        myChart.setOption(option);
        myChart.on('click', function (params) {
            var cityId = getCityId(params.name, cityArr)
            window.location.href = 'city.html?region_id=' + cityId + '&city=' + params.name
            console.log(cityId)
        });
        var getCityId = function (name, arr) {
            var cityId = null
            for (var i = 0; i < arr.length; i++) {
                if (arr[i].name === name) {
                    cityId = arr[i].id
                    break;
                }
            }
            return cityId
        }
        // console.log(myJSON)
        // 基于准备好的dom，初始化echarts实例
        var myChart1 = echarts.init(document.getElementById('ym_churuku_1'));

        // 指定图表的配置项和数据
        option1 = {
            // title: {
            //     text: '世界人口总量',
            //     subtext: '数据来自网络'
            // },
            // color: ['#40d4d2', '#f6c742', ],
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                data: ['注册适龄儿童数量', '已完成儿保检查数量'],
                textStyle: {
                    color: '#ffffff' //字体颜色
                },


            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'value',
                boundaryGap: [0, 0.001],
                splitLine: {
                    show: false
                },
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: '#1db2f1'
                    }
                },


            },
            yAxis: {
                type: 'category',
                data: ["东营", "泰安", "枣庄", "淄博", "青岛", "潍坊", "烟台", "济南", ],


                axisLabel: {
                    show: true,
                    textStyle: {
                        color: '#1db2f1'
                    },
                },
                axisLine: {
                    lineStyle: {
                        color: '#1db2f1',
                    }
                },

            },
            series: [{
                    name: '注册适龄儿童数量',
                    type: 'bar',
                    data: [3598, 3326, 2903, 2865, 3254, 3321, 2987, 3548, ],
                    // barWidth: 14,
                    itemStyle: {
                        emphasis: {
                            barBorderRadius: 7
                        },
                        normal: {
                            barBorderRadius: 7,
                            color: new echarts.graphic.LinearGradient(
                                0, 0, 1, 0,
                                [{
                                        offset: 0,
                                        color: '#49fcb0'
                                    },
                                    {
                                        offset: 1,
                                        color: '#39b4ed'
                                    }

                                ]

                            )
                        }
                    }
                },
                {
                    name: '已完成儿保检查数量',
                    type: 'bar',
                    data: [3499, 3301, 2854, 2754, 3201, 3309, 2765, 3451],
                    itemStyle: {
                        emphasis: {
                            barBorderRadius: 7
                        },
                        normal: {
                            barBorderRadius: 7,
                            color: new echarts.graphic.LinearGradient(
                                0, 0, 1, 0,
                                [{
                                        offset: 0,
                                        color: '#fcf648'
                                    },
                                    {
                                        offset: 1,
                                        color: '#ee843a'
                                    }

                                ]

                            )
                        }
                    }
                }
            ]
        };
        // 使用刚指定的配置项和数据显示图表。第一页
        myChart1.setOption(option1);


        //第二页
        var myChart2 = echarts.init(document.getElementById('ym_churuku_2'));

        // 指定图表的配置项和数据
        option2 = {
            // title: {
            //     text: '世界人口总量',
            //     subtext: '数据来自网络'
            // },
            color: ['#40d4d2', '#f6c742', ],
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                data: ['注册适龄儿童数量', '已完成儿保检查数量'],
                textStyle: {

                    color: '#ffffff' //字体颜色
                },


            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'value',
                boundaryGap: [0, 0.001],
                splitLine: {
                    show: false
                },
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: '#1db2f1'
                    }
                }
            },
            yAxis: {
                type: 'category',
                data: ["聊城", "德州", "滨州", "菏泽", "威海", "日照", "济宁", "临沂", ],
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: '#1db2f1'
                    }
                },
                axisLine: {
                    lineStyle: {
                        color: '#1db2f1',
                    }
                }
            },
            series: [{
                    name: '注册适龄儿童数量',
                    type: 'bar',
                    data: [3698, 3226, 3356, 3469, 2965, 3026, 3651, 3095, ],
                    itemStyle: {
                        emphasis: {
                            barBorderRadius: 7
                        },
                        normal: {
                            barBorderRadius: 7,
                            color: new echarts.graphic.LinearGradient(
                                0, 0, 1, 0,
                                [{
                                        offset: 0,
                                        color: '#49fcb0'
                                    },
                                    {
                                        offset: 1,
                                        color: '#39b4ed'
                                    }

                                ]

                            )
                        }
                    }


                },
                {
                    name: '已完成儿保检查数量',
                    type: 'bar',
                    data: [3599, 3201, 3320, 3450, 2845, 2999, 3601, 3032],
                    itemStyle: {
                        emphasis: {
                            barBorderRadius: 7
                        },
                        normal: {
                            barBorderRadius: 7,
                            color: new echarts.graphic.LinearGradient(
                                0, 0, 1, 0,
                                [{
                                        offset: 0,
                                        color: '#fcf648'
                                    },
                                    {
                                        offset: 1,
                                        color: '#ee843a'
                                    }

                                ]

                            )
                        }
                    }
                }
            ]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart2.setOption(option2);
        $(document).ready(function () { //分页显示
            layer.msg("加载中", {
                icon: 16,
                time: 500,
                end: function () {
                    $("#fff_block").slideUp(500);
                    layer.tips('点击可以翻页', '.next_img', {
                        tips: [1, '#fa7116']
                        // tips: [1, '#78BA32']
                    });
                }
            })
            var isMac = function () {
                return /macintosh|mac os x/i.test(navigator.userAgent);
            }();
            if (isMac) { //MAC 与 Windows高度兼容
                $("#shandong").css("height", "504px")
            }
            $("#ym_churuku_2").addClass("isdisplay")
            $(".next_img").bind('click', function () {
                $("#ym_churuku_2,#ym_churuku_1,.next_img,.ona_img").toggleClass("isdisplay")
            })
            $(".ona_img").bind('click', function () {
                $("#ym_churuku_2,#ym_churuku_1,.next_img,.ona_img").toggleClass("isdisplay")
            })
        })

        // 各地市接种情况
        var jiezhong = echarts.init(document.getElementById('jiezhzong'));
        option_jiezhong = {
            // color: ['#ec6941', '#00aaff', 'ffab4f'],
            tooltip: {
                trigger: 'axis',
                axisPointer: { // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [{
                type: 'category',
                data: ['济南', '烟台', '潍坊', '青岛', '淄博', '枣庄', '泰安', '东营', '临沂', '济宁', '日照', '威海', '菏泽', '滨州',
                    '德州', '聊城',
                ],
                axisTick: {
                    alignWithLabel: true
                },
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: '#1db2f1'
                    },
                    interval: 0,
                    rotate: 40
                },
                axisLine: {
                    lineStyle: {
                        color: '#1db2f1',
                        // width: 8, //这里是为了突出显示加上的
                    }
                }

            }],
            yAxis: [{
                type: 'value',
                splitLine: {
                    show: false
                },
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: '#1db2f1'
                    },

                    formatter: '{value}(针)'
                },
            }],
            series: [{
                name: '接种数量',
                type: 'bar',
                barWidth: '60%',
                itemStyle: {
                    normal: {
                        //每根柱子颜色设置
                        color: function (params) {
                            let colorList = [
                                "#ec6941",
                                "#00aaff",
                                "#ffab4f",
                                "#ec6941",
                                "#00aaff",
                                "#ffab4f",
                                "#ec6941",
                                "#00aaff",
                                "#ffab4f",
                                "#ec6941",
                                "#00aaff",
                                "#ffab4f",
                                "#ec6941",
                                "#00aaff",
                                "#ffab4f",
                                "#ec6941",
                                "#00aaff",
                                "#ffab4f",
                                "#ec6941",
                                "#00aaff",
                                "#ffab4f",
                                "#ec6941",
                                "#00aaff",
                                "#ffab4f",
                            ];
                            return colorList[params.dataIndex];
                        }
                    }
                },
                barWidth: 15,
                data: [2201, 3505, 2002, 3347, 3902, 3372, 2204, 1017, 2509, 3606, 3546, 1236, 1656, 1291,
                    2357, 1002
                ]
            }]
        };


        jiezhong.setOption(option_jiezhong);
        // 各地市疫苗储存情况
        var chucun = echarts.init(document.getElementById('chucun'));
        option_chucun = {
            // color: ['#ec6941', '#00aaff', 'ffab4f'],
            tooltip: {
                trigger: 'axis',
                axisPointer: { // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [{
                type: 'category',
                data: ['济南', '烟台', '潍坊', '青岛', '淄博', '枣庄', '泰安', '东营', '临沂', '济宁', '日照', '威海', '菏泽', '滨州',
                    '德州', '聊城',
                ],
                axisTick: {
                    alignWithLabel: true
                },
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: '#1db2f1'
                    },
                    interval: 0,
                    rotate: 40
                },
                axisLine: {
                    lineStyle: {
                        color: '#1db2f1',
                        // width: 8, //这里是为了突出显示加上的
                    }
                }

            }],
            yAxis: [{
                type: 'value',
                splitLine: {
                    show: false
                },
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: '#1db2f1'
                    },

                    formatter: '{value}(支)'
                },
            }],
            series: [{
                name: '储存数量',
                type: 'bar',
                barWidth: '60%',
                itemStyle: {
                    normal: {
                        //每根柱子颜色设置
                        color: function (params) {
                            let colorList = [
                                "#e60012",
                                "#22ac38",
                                "#f39800",
                                "#22ac38",
                                "#22ac38",
                                "#f39800",
                                "#22ac38",
                                "#22ac38",
                                "#e60012",
                                "#f39800",
                                "#f39800",
                                "#f39800",
                                "#f39800",
                                "#f39800",
                                "#f39800",
                                "#f39800",
                                "#f39800",
                            ];
                            return colorList[params.dataIndex];
                        }
                    }
                },
                barWidth: 15,
                data: [920, 3505, 2002, 3347, 3902, 1500, 2204, 3502, 460, 2136, 1563, 2845, 1656, 1291,
                    2357, 2950
                ]
            }]
        };
        chucun.setOption(option_chucun);
        // 问题疫苗警告
        $(".vac_warning").click(function (e) {
            var el_bro = $(this).prevAll()
            var adderss = el_bro[1].innerText
            var msg = el_bro[0].innerText
            console.log(e)
            // return false
            layer.open({
                type: 1,
                title: '详细信息',
                shade: [0.8, '#000'],
                closeBtn: 1,
                anim: 1,
                scrollbar: false, //锁定浏览器滚动条
                area: '500px',
                shadeClose: true,
                skin: 'yourclass',
                content: `<div id="layer_box">
                        <div class="layer_item">
            <div class="layer_item_title">
                <label class="switch" id="switch">
                    <input type="checkbox" >
                    <div class="slider round"></div>
                </label>
            </div>
            <div class="layer_item_content">是否开启一键锁定</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">地址</div>
            <div class="layer_item_content">` + adderss + `xx社区接种点</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">疫苗种类</div>
            <div class="layer_item_content">` + msg + `</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">情况报告</div>
            <div class="layer_item_content">疫苗过期，活性失效</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">报告人</div>
            <div class="layer_item_content"> 王富贵</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">联系电话</div>
            <div class="layer_item_content"> 15080808080</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">上级负责人</div>
            <div class="layer_item_content"> 王一川</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">联系电话</div>
            <div class="layer_item_content"> 15092999999</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">处理情况</div>
            <div class="layer_item_content"> 已记录并销毁疫苗</div>
        </div>
    </div>`,
            })
        })


        $(document).on("click", "#switch > .slider", function () {
            var flag = $("#switch > input").is(":checked");
            console.log(flag)
            if (!flag) {
                layer.msg("一键锁定已开启", {
                    icon: 1,
                    time: 1500,
                    end: function () {}
                })
            } else {
                layer.msg("一键锁定已关闭", {
                    icon: 2,
                    time: 1500,
                    end: function () {}
                })
            }

        });

        // 冰箱温度警告
        $(".temp_warning").click(function (e) {
            var el_bro = $(this).prevAll()
            var adderss = el_bro[1].innerText
            var msg = el_bro[0].innerText
            console.log(e)
            // return false
            layer.open({
                type: 1,
                title: '详细信息',
                shade: [0.8, '#000'],
                closeBtn: 1,
                anim: 1,
                scrollbar: false, //锁定浏览器滚动条
                area: '500px',
                shadeClose: true,
                skin: 'yourclass',
                content: `<div id="layer_box">
        <div class="layer_item">
            <div class="layer_item_title">冰箱位置</div>
            <div class="layer_item_content">山东省` + adderss + `xx社区接种点2号冰箱</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">报警温度</div>
            <div class="layer_item_content">` + msg + `</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">负责人信息</div>
            <div class="layer_item_content">王富贵,15008060301,` + adderss + `xx社区接种点</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">情况描述</div>
            <div class="layer_item_content">冰箱温度报警，温度达到` + msg + `</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">处理反馈</div>
            <div class="layer_item_content">已处理完毕</div>
        </div>
        </div>`,
            })
        })

        $(".city_item").bind('click', function () {
            // change by fjw in 19.10.31
            var dom = $(this).find(".city_t");
            var region_id = dom.attr('region_id');
            var name = dom.html();
            window.location.href = 'city.html?region_id=' + region_id + '&city=' + name
        })
    </script>
    <!-- <div id="layer_box">
        <div class="layer_item">
            <div class="layer_item_title">
                <label class="switch">
                    <input type="checkbox" checked>
                    <div class="slider round"></div>
                </label>
            </div>
            <div class="layer_item_content">是否开启一键锁定</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">地址</div>
            <div class="layer_item_content">山东省济南市历下区xx社区接种点</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">疫苗种类</div>
            <div class="layer_item_content">xxx疫苗</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">情况报告</div>
            <div class="layer_item_content">Lorem ipsum dolor, sit. </div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">报告人</div>
            <div class="layer_item_content"> 王富贵</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">联系电话</div>
            <div class="layer_item_content"> 15080808080</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">上级负责人</div>
            <div class="layer_item_content"> 15080808080</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">联系电话</div>
            <div class="layer_item_content"> 1509999999</div>
        </div>
        <div class="layer_item">
            <div class="layer_item_title">处理意见</div>
            <div class="layer_item_content"> Lorem ipsum dolor sit, amet consectetur adipisicing elit. Totam similique
                sit nisi pariatur t.</div>
        </div>
    </div> -->
</body>

</html>